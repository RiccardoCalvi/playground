(function () {
  'use strict';

  class LaDimoraCards extends HTMLElement {
      constructor() {
        super();
        this.attachShadow({ mode: 'open' }); // Shadow DOM per isolamento
      }
    
      connectedCallback() {
        const mezzi = [ /* stessi dati */ ];
    
        const style = `
        <style>
          .card { margin-bottom: 1rem; padding: 1rem; border: 1px solid #ccc; border-radius: 8px; }
          .card__header { display: flex; justify-content: space-between; align-items: center; }
          .card__title { display: flex; align-items: center; gap: 0.5rem; }
          .card__price { font-weight: bold; }
          .card__text { margin-top: 0.5rem; }
          .card__button { margin-top: 0.5rem; display: inline-block; background: #f8941d; color: white; padding: 0.5rem 1rem; border-radius: 4px; text-decoration: none; }
          svg { width: 24px; height: 24px; }
        </style>
      `;
    
        const html = mezzi.map(mezzo => `
        <div class="card">
          <div class="card__header">
            <div class="card__title">
              ${this.getIcon(mezzo.type)}
              <p>${mezzo.type}</p>
            </div>
            <div class="card__price">${mezzo.price}</div>
          </div>
          <div class="card__text">${mezzo.text}</div>
          <a href="${mezzo.link}" target="_blank" class="card__button">PRENOTA</a>
        </div>
      `).join('');
    
        this.shadowRoot.innerHTML = `${style}${html}`;
      }
    
      getIcon(type) {
        // Incolla qui la tua logica SVG
        switch (type) {
          case "Bus": return `...`;
          case "Treno": return `...`;
          case "Taxi": return `...`;
          default: return '';
        }
      }
    }
    
    customElements.define('ladimora-cards', LaDimoraCards);

})();
